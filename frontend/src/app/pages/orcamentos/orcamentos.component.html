<div style="padding: 10px; margin-bottom: 80px;">
  
  <div style="margin-bottom: 25px;">
    <h2 style="margin: 0; color: #1e293b; font-size: 1.5rem;">üéØ Metas</h2>
    <div style="margin-top: 15px;">
      <input type="month" [(ngModel)]="mesAnoSelecionado" (change)="carregarDados()"
             style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #cbd5e1; font-weight: bold; box-sizing: border-box;">
    </div>
  </div>

  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px;">
    
    @for (item of progressoCategorias; track item.categoria) {
      <div style="background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border: 1px solid #f1f5f9;">
        
        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; align-items: center;">
          <h4 style="margin: 0; color: #334155; font-size: 1rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 70%;">{{ item.categoria }}</h4>
          <span [style.color]="item.cor" style="font-weight: bold; font-size: 0.85rem;">
            {{ item.percentualReal | number:'1.0-0' }}%
          </span>
        </div>

        <div style="display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 0.8rem; color: #64748b;">
          <span>Gasto: <strong>{{ item.gasto | currency:'BRL' }}</strong></span>
          <span>Lim: {{ item.limite | currency:'BRL' }}</span>
        </div>

        <div style="width: 100%; background-color: #e2e8f0; border-radius: 10px; height: 14px; overflow: hidden;">
          <div [style.width.%]="item.percentual" 
               [style.background-color]="item.cor"
               style="height: 100%; transition: width 0.6s ease;">
          </div>
        </div>
        
        @if (item.percentualReal >= 100) {
          <div style="margin-top: 8px; font-size: 0.75rem; color: #ef4444; font-weight: bold; text-align: right;">
            ‚ö†Ô∏è Limite excedido!
          </div>
        }
      </div>
    }
    
    @if (progressoCategorias.length === 0) {
      <div style="text-align: center; padding: 40px; color: #64748b;">
        Nenhum or√ßamento configurado...
      </div>
    }
  </div>
</div>