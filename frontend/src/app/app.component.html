<main style="font-family: sans-serif; padding: 20px; max-width: 600px; margin: 0 auto;">
  <h1>Meu Controle Financeiro ğŸ’°</h1>
  
  <div style="display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap;">
    
    <div style="flex: 1; min-width: 120px; padding: 15px; border-radius: 8px; background: #e8f5e9; border: 1px solid #4caf50;">
      <h4 style="margin: 0 0 10px 0; color: #2e7d32;">ğŸŸ© Receitas</h4>
      <h2 style="margin: 0; color: #1b5e20;">{{ totalReceitas | currency:'BRL' }}</h2>
    </div>

    <div style="flex: 1; min-width: 120px; padding: 15px; border-radius: 8px; background: #ffebee; border: 1px solid #f44336;">
      <h4 style="margin: 0 0 10px 0; color: #c62828;">ğŸŸ¥ Despesas</h4>
      <h2 style="margin: 0; color: #b71c1c;">{{ totalDespesas | currency:'BRL' }}</h2>
    </div>

    <div style="flex: 1; min-width: 120px; padding: 15px; border-radius: 8px; background: #e3f2fd; border: 1px solid #2196f3;">
      <h4 style="margin: 0 0 10px 0; color: #1565c0;">ğŸŸ¦ Saldo Atual</h4>
      <h2 style="margin: 0; color: #0d47a1;">{{ saldoGeral | currency:'BRL' }}</h2>
    </div>

  </div>

  <div style="background: #e9ecef; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
    <h3 style="margin-top: 0;">Novo LanÃ§amento</h3>
    
    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
      <input type="text" placeholder="DescriÃ§Ã£o (ex: Uber)" 
             [(ngModel)]="novaTransacao.descricao" 
             style="flex: 1; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
             
      <input type="number" placeholder="Valor" 
             [(ngModel)]="novaTransacao.valor" 
             style="width: 100px; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
             
      <select [(ngModel)]="novaTransacao.tipo" 
              style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
        <option value="despesa">Despesa</option>
        <option value="receita">Receita</option>
      </select>
      
      <button (click)="adicionarTransacao()" 
              style="padding: 8px 15px; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
        Salvar
      </button>
    </div>
  </div>

  <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px dashed #2196f3;">
    <h3 style="margin-top: 0; color: #0d47a1;">ğŸ“¥ Importar Extrato (CSV)</h3>
    <div style="display: flex; gap: 10px; align-items: center;">
      <input type="file" accept=".csv" (change)="onFileSelected($event)" style="flex: 1;">
      <button (click)="importarArquivo()" [disabled]="!arquivoSelecionado"
              style="padding: 8px 15px; background: #0d47a1; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
        Importar Dados
      </button>
    </div>
  </div>

  <div style="background: #f4f4f4; padding: 15px; border-radius: 8px;">
    
    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px; margin-bottom: 15px;">
      <h3 style="margin: 0;">ğŸ“‹ LanÃ§amentos</h3>
      <button (click)="mudarOrdem()" style="padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc; background: white; cursor: pointer;">
        â³ Ordenar por: <strong>{{ ordemMaisNovas ? 'Mais Novas' : 'Mais Antigas' }}</strong>
      </button>
    </div>
    
    <ul style="list-style: none; padding: 0; margin: 0;">
      @for (t of transacoesFiltradas; track t.id) {
        <li style="padding: 10px 0; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between;">
          
          <div>
            <strong>{{ t.descricao }}</strong>
            <span style="display: inline-block; margin-left: 10px; font-size: 0.75rem; background: #e0e0e0; padding: 2px 8px; border-radius: 12px; color: #424242;">
              {{ t.categoria || 'Outros' }}
            </span>
            <br>
            <small style="color: gray;">{{ t.data_transacao | date:'dd/MM/yyyy' }}</small>
          </div>
          
          <div style="display: flex; align-items: center; gap: 15px;">
            <span [style.color]="t.tipo === 'receita' ? 'green' : 'red'" style="font-weight: bold;">
              {{ t.tipo === 'despesa' ? '-' : '+' }} {{ t.valor | currency:'BRL' }}
            </span>
            
            <button (click)="excluirTransacao(t.id)" 
                    style="background: transparent; border: none; cursor: pointer; font-size: 1.2rem;" 
                    title="Apagar">
              ğŸ—‘ï¸
            </button>
          </div>

        </li>
      } @empty {
        <p style="color: gray; font-style: italic; text-align: center; padding: 20px 0;">Nenhuma transaÃ§Ã£o encontrada. O banco estÃ¡ vazio!</p>
      }
    </ul>

    <div style="display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 25px; padding-bottom: 10px;">
      <button (click)="paginaAnterior()" [disabled]="paginaAtual === 1" 
              style="padding: 10px 15px; cursor: pointer; border-radius: 4px; border: 1px solid #ccc; background: #f9f9f9;">
        â¬…ï¸ Anterior
      </button>
      
      <span style="font-weight: bold; color: #555;">
        PÃ¡gina {{ paginaAtual }} de {{ totalPaginas }}
      </span>
      
      <button (click)="proximaPagina()" [disabled]="paginaAtual === totalPaginas" 
              style="padding: 10px 15px; cursor: pointer; border-radius: 4px; border: 1px solid #ccc; background: #f9f9f9;">
        PrÃ³xima â¡ï¸
      </button>
    </div>

  </div>
</main>